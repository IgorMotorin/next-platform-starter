{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/igorm/Downloads/next-platform-starter-main/src/hooks/hooks.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport function useLocalStorage(\n  key: string,\n  initialValue: string\n): [string, React.Dispatch<React.SetStateAction<string>>] {\n  const [value, setValue] = useState<string>(() => {\n    const item = localStorage.getItem(key) || '';\n    return item ? JSON.parse(item) : initialValue;\n  });\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n}\n"],"names":[],"mappings":";;;AAAA;;;AAEO,SAAS,gBACd,GAAW,EACX,YAAoB;;IAEpB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;oCAAU;YACzC,MAAM,OAAO,aAAa,OAAO,CAAC,QAAQ;YAC1C,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;QACnC;;IACA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;QAC3C;oCAAG;QAAC;QAAK;KAAM;IACf,OAAO;QAAC;QAAO;KAAS;AAC1B;GAZgB","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///c:/Users/igorm/Downloads/next-platform-starter-main/src/component/Search.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useContext, useEffect } from 'react';\nimport { ThemeContext } from '../store/Context';\nimport {\n  onInput,\n  onPage,\n  onSearch,\n  type CheckState,\n} from '../store/checkSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useGetBooksQuery } from '../services/booksApi';\nimport { useLocalStorage } from '../hooks/hooks';\nimport { useRouter, usePathname, useSearchParams } from 'next/navigation';\nimport { useTranslations } from 'next-intl';\n\nexport default function Search() {\n  const t = useTranslations('cards');\n  const theme = useContext(ThemeContext);\n  const dispatch = useDispatch();\n  const input = useSelector(\n    (state: { checkReducer: CheckState }) => state.checkReducer.input\n  );\n  const search = useSelector(\n    (state: { checkReducer: CheckState }) => state.checkReducer.search\n  );\n  const page = useSelector(\n    (state: { checkReducer: CheckState }) => state.checkReducer.page\n  );\n\n  const { data } = useGetBooksQuery({\n    page: page,\n    search: search,\n  });\n\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  const createQueryString = useCallback((name: string, value: string) => {\n    const params = new URLSearchParams();\n    params.set(name, value);\n\n    return params.toString();\n  }, []);\n\n  const [key, setKey] = useLocalStorage('appKey', '');\n\n  useEffect(() => {\n    const searchParam = searchParams.get('search') || '';\n    const pageParam = searchParams.get('page') || '1';\n    dispatch(onPage(pageParam));\n    dispatch(onSearch(searchParam));\n  }, [searchParams, dispatch]);\n\n  return (\n    <div\n      className=\"flex flex-1 items-center justify-center p-6 dark:bg-cyan-950 dark:text-white\"\n      data-theme={theme}\n    >\n      <div className=\"w-full max-w-lg\">\n        <form className=\"mt-5 sm:flex sm:items-center\">\n          <input\n            id=\"q\"\n            name=\"q\"\n            className=\"inline w-full rounded-md border border-gray-300 bg-white dark:text-black py-2 pl-3 pr-3 leading-5 placeholder-gray-500 focus:border-indigo-500 focus:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm\"\n            placeholder={t('search') + '...'}\n            type=\"search\"\n            autoFocus={false}\n            onChange={(e) => {\n              dispatch(onInput(e.target.value.toLowerCase()));\n              setKey(e.target.value.toLowerCase().trim());\n            }}\n            value={input || key}\n          ></input>\n\n          <button\n            type=\"submit\"\n            className=\"mt-3 inline-flex w-full items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\n            onClick={(e) => {\n              e.preventDefault();\n              const inputParam = input.trim();\n              dispatch(onInput(inputParam));\n              setKey(inputParam);\n              router.push(\n                pathname +\n                  '?' +\n                  createQueryString('search', inputParam) +\n                  '&' +\n                  createQueryString('page', '1')\n              );\n            }}\n          >\n            {t('search')}\n          </button>\n\n          <div className=\"relative right-4 bottom-5 -mr-6 inline-flex items-center px-1.5 py-0.5 border-2 border-white rounded-full text-xs font-semibold leading-4 bg-red-400 text-white\">\n            {data?.count || 0}\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}